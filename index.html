<!DOCTYPE html>
<!--  Last Published: Sun Sep 29 2019 01:47:17 GMT+0000 (UTC)  -->
<html data-wf-page="5d7e40af17c02c404ddccfbb" data-wf-site="5d7e40af17c02c53c2dccfba">
<head>
  <meta charset="utf-8">
  <title>Reverbera, audiolivros gratuitos</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/components.css" rel="stylesheet" type="text/css">
  <link href="css/reverbera.css" rel="stylesheet" type="text/css">
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
</head>
<body class="body">
  <header id="menu" tabindex="0" accesskey="2" class="c-header">
    <div class="c-container">
      <div data-collapse="medium" data-animation="default" data-duration="400" role="navigation" class="c-header__nav w-nav">
        <ul class="l-flex l-flex--center l-flex__wrap">
          <li class="c-header__brand"><a title="Início" href="index.html" class="w-inline-block w--current"><img src="images/Logo.png" alt="Reverbera, áudio livros gratuitos"></a></li>
          <li><a href="#conteudo" class="c__link c__trasition300">Ir para o conteúdo [1]</a></li>
          <li><a href="#menu" class="c__link c__trasition300">Ir para o o menu [2]</a></li>
          <li><a href="#conteudo" accesskey="3" class="c__link c__trasition300">Ajuda de acessibilidade [3]</a></li>
          <li><a title="Aumentar tamanho da fonte" aria-label="Aumentar fonte" role="button" href="#" class="c__acessible-button c__trasition-300 c__acessible-button--left-margin w-button">A+</a></li>
          <li><a title="Diminuir tamanho da fonte" aria-label="Diminuir fonte" role="button" href="#" class="c__acessible-button c__trasition-300 c__acessible-button--right-margin w-button">A-</a></li>
          <li class="l-flex l-flex--center">
            <div class="c-header__acessiblity-descripition">Contraste</div>
            <div tabindex="0" title="Ligar auto contraste" role="button" class="c__acessible-button c__trasition-300">
              <div class="c__contrast-button"></div>
            </div>
          </li>
          <li>
            <div tabindex="0" title="Desligar alto contraste" role="button" class="c__acessible-button c__trasition-300">
              <div class="c__contrast-button c__contrast-button-light"></div>
            </div>
          </li>
        </ul>
        <div class="w-nav-button">
          <div class="w-icon-nav-menu"></div>
        </div>
      </div>
    </div>
    <div class="w-embed">
      <style>
  body, html{
    width: 100%;
    overflow-x: hidden;
    backgroun: #e5e5e5;
    font-family: sans-serif !important;
  	font-weight: 300;
    font-size: 14px  !important;
  }
  ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}
  a{
  	display: inline-block;
    color: inherit;
  }
  a[href^="tel:"], a[href^="mailto:"] {
  	color: inherit;
    text-decoration: none;
  }
  a[href^="tel:"] {
  	pointer-events: none;
  }
  .c__white-text{
  color: white;
  }
  .c__center{
  text-align: center;
  }
  </style>
    </div>
  </header>
  <section tabindex="0" class="c-section c-section--main-section">
    <div class="c-container c__center">
      <h1 class="c__section-title c__white-text c-title--main-title"><span class="c__section-title__big-title">Reverbera</span><br>O conhecimento através dos seus ouvidos</h1>
    </div>
  </section>
  <section class="c-section">
    <div class="c-container c__center">
      <div class="l-flex">
        <div data-collapse="medium" data-animation="default" data-duration="400" aria-label="Categoria de audiolivros" tabindex="0" class="c-category-menu c__center w-nav">
          <h2 class="c-category-menu__title c__white-text">Categorias de audiolivros</h2>
          <nav role="navigation" class="nav-menu w-nav-menu">
            <ul tabindex="0" role="menu" class="c-gategory-menu__list">
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
              <li class="c-category-menu__link c__trasition300"><a href="#" class="c__link c__trasition300 c__link-full-size">Aventura</a></li>
            </ul>
          </nav>
          <div role="button" aria-haspopup="true" tabindex="0" class="w-nav-button">
            <div class="w-icon-nav-menu"></div>
          </div>
        </div>
        <main id="conteudo" tabindex="0" accesskey="1" class="c-content-wrapper">
          <div class="c__bread__umb"><span class="c-bread-crumb__description">Você está aqui:</span><a href="#" aria-current="page" class="c__link c__trasition300">Página Inicial</a></div>
          <h2 class="c__section-title">Nossa missão</h2>
          <p class="c__paragraph">A Reverbera surgiu com a necessidade de ampliar os meios de acesso à audiolivros online de maneira gratuita e acessível. Contribuindo com a reverberação do conhecimento e diminuição das barreiras digitais.</p>
          <h2 class="c__section-title">Últimos lançamentos</h2>
          <ul class="l-flex l-flex--center l-flex__wrap">
            <li class="l__col-4">
              <div class="c-audiobook"><a href="#" class="c-audiobook__link w-inline-block"><img src="images/audiobook-example.jpg" alt="Capa do livro: Copas de árvores "><div class="c-adiobook__info"><h3 class="c-audiobook__title"><span class="c__accessible-text">Título: </span>Contos do Norte</h3><div class="c-adiobook__author"><span class="c__bold">Autor</span>: João Marques de Carvalho</div></div></a>
                <div tabindex="0" aria-label="Player de Audiolivro" class="c-audio-player">
                  <div class="w-embed"><audio>
    <source src="https://ia800704.us.archive.org/34/items/contos_do_norte_1812_librivox/contosdonorte_0_marquesdecarvalho_128kb.mp3" type="audio/mpeg">
    </audio></div>
                  <div class="c-audio-player__controls">
                    <div class="c-audio__time-bar">
                      <div class="l-flex l-flex--center">
                        <div id="currentTime" class="c-audio__time js-currenttime">00:00</div>
                        <div id="timeControlBar" tabindex="0" role="slider" class="c-audio__control-bar js-timecontrolbar">
                          <div id="timeController" class="c-audio__controller js-timecontroller c-audio__controller--no-size"></div>
                        </div>
                        <div id="duration" class="c-audio__time js-duration">00:00</div>
                      </div>
                    </div>
                    <div class="l-flex l-flex--center"><a id="play" title="Reproduzir audiolivro" role="button" aria-label="Reproduzir audiolivro" aria-pressed="false" href="#" class="c-audio-player__button c__trasition300 js-playbutton w-button"><span aria-hidden="true"></span></a><a id="mute" title="mutar audiolivro" role="button" aria-label="Mutar audiolivro" aria-pressed="false" href="#" class="c-audio-player__button c-audio-player__button--blue-color-no-border c__trasition300 js-mutebutton w-button"><span aria-hidden="true"></span></a>
                      <div id="volumeControlBar" aria-valuemin="0" aria-valuemax="100" role="slider" aria-valuenow="100" tabindex="0" aria-value-text="volume 100%" class="c-audio__control-bar c-audio__control-bar--smaller-no-margin js-volumecontrolbar">
                        <div id="volumeController" class="c-audio__controller js-volumecontroller"></div>
                      </div><a href="#" id="download" title="Fazer download do audiolivro" role="button" aria-label="Fazer download do audiolivro" target="_blank" class="c-audio-player__button c-audio-player__button--blue-color-no-border c__trasition300 w-button"><span aria-hidden="true"></span></a></div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </main>
      </div>
    </div>
  </section>
  <div class="c--footer">
    <h1>NAO apagar</h1>
  </div>
  <div class="w-embed w-script">
    <script>
let audioPlayer = document.querySelectorAll('.c-audio-player');
audioPlayer.forEach(function (element) {
    initializeAudioPlayer(element)
});
//Adds functionality to the custom audio player
function initializeAudioPlayer(audioPlayer) {
    let audioBook = audioPlayer.querySelector('audio');
    let playButton = audioPlayer.querySelector('.js-playbutton');
    let muteButton = audioPlayer.querySelector('.js-mutebutton');
    let timeControlBar = audioPlayer.querySelector('.js-timecontrolbar');
    let timeControlBarSize = timeControlBar.clientWidth;
    let progressBar = audioPlayer.querySelector('.js-timecontroller');
    let duration = audioPlayer.querySelector('.js-duration');
    let currentTime = audioPlayer.querySelector('.js-currenttime');
    let volumeControlBar = audioPlayer.querySelector('.js-volumecontrolbar');
    let volumeControlBarSize = volumeControlBar.clientWidth;
    let volumeController = audioPlayer.querySelector('.js-volumecontroller');
    audioBook.addEventListener("loadedmetadata", function () {
        //you can display the duration now
        let minutes = parseInt(audioBook.duration / 60);
        let seconds = parseInt(audioBook.duration % 60);
        duration.innerHTML = minutes + ':' + seconds;
    });
    playButton.addEventListener('click', function () {
        playOrPause(audioBook, playButton, timeControlBar, currentTime, timeControlBarSize, progressBar)
    });
    muteButton.addEventListener('click', function () {
        muteOrUnmute(audioBook, muteButton)
    });
    timeControlBar.addEventListener('click', function (event) {
        //mechanism to pass parameters with the event
        let additionalParameter1 = audioBook;
        let additionalParameter2 = timeControlBar;
        let additionalParameter3 = progressBar;
        let additionalParameter4 = timeControlBarSize;
        clickedTimeBar.call(this, event, additionalParameter1, additionalParameter2, additionalParameter3, additionalParameter4);
    }, false);
     volumeControlBar.addEventListener('click', function (event) {
        //mechanism to pass parameters with the event
        let additionalParameter1 = audioBook;
        let additionalParameter2 = muteButton;
        let additionalParameter3 = volumeControlBar;
        let additionalParameter4 = volumeController;
        let additionalParameter5 = volumeControlBarSize;
        clickedVolumeBar.call(this, event, additionalParameter1, additionalParameter2, additionalParameter3, additionalParameter4,additionalParameter5);
    }, false);
       volumeControlBar.addEventListener('keydown', function (event) {
        //mechanism to pass parameters with the event
        let additionalParameter1 = audioBook;
        let additionalParameter2 = muteButton;
        let additionalParameter3 = volumeControlBar;
        let additionalParameter4 = volumeController;
        let additionalParameter5 = volumeControlBarSize;
        keyDownVolumeBar.call(this, event, additionalParameter1, additionalParameter2, additionalParameter3, additionalParameter4,additionalParameter5);
    }, false);
        volumeControlBar.addEventListener('keypressed', function (event) {
        //mechanism to pass parameters with the event
        let additionalParameter1 = audioBook;
        let additionalParameter2 = muteButton;
        let additionalParameter3 = volumeControlBar;
        let additionalParameter4 = volumeController;
        let additionalParameter5 = volumeControlBarSize;
        keyDownVolumeBar.call(this, event, additionalParameter1, additionalParameter2, additionalParameter3, additionalParameter4,additionalParameter5);
    }, false);
    //TODO: ADAPTAR NO BACKEND
    // document.getElementById('download').setAttribute('href','https://ia800704.us.archive.org/34/items/contos_do_norte_1812_librivox/contosdonorte_0_marquesdecarvalho_128kb.mp3');
    // document.getElementById('download').setAttribute('download','contos.mp3');
}
//Play or Pause current audiobook
function playOrPause(audioBook, playButton, timeControlBar, currentTime, timeControlBarSize, progressBar) {
    // //TODO:pause all others audiobooks before start playing
    // let audioBooksList = document.querySelectorAll('audio');
    // audioBooksList.forEach(function (element){
    //     element.pause();
    // });
    if (!audioBook.paused && !audioBook.ended) {
        audioBook.pause();
        playButton.innerHTML = "";
        //acessibility state
        playButton.setAttribute('title', 'Reproduzir audiolivro');
        playButton.setAttribute('aria-pressed', 'false');
        //stops timer
        window.clearInterval(updateTime);
    } else {
        audioBook.play();
        playButton.innerHTML = "";
        //acessibility state
        playButton.setAttribute('title', 'Pausar audiolivro');
        playButton.setAttribute('aria-pressed', 'true');
        //creates a timer
        updateTime = setInterval(() => update(audioBook, playButton, timeControlBar, currentTime, timeControlBarSize, progressBar), 500);
    }
}
//Mute or Unmute current audiobook
function muteOrUnmute(audioBook, muteButton) {
    if ((audioBook.muted == true) {
        audioBook.muted = false;
        muteButton.innerHTML = "";
        //acessibility state
        muteButton.setAttribute('title', 'Mutar audiolivro');
        muteButton.setAttribute('aria-pressed', 'false');
    } else {
        audioBook.muted = true;
        muteButton.innerHTML = "";
        //acessibility state
        muteButton.setAttribute('title', 'Desmutar audiolivro');
        muteButton.setAttribute('aria-pressed', 'true');
    }
}
//Updates current audiobook's time
function update(audioBook, playButton, timeControlBar, currentTime, timeControlBarSize, progressBar) {
    if (!audioBook.ended) {
        let playedMinutes = addZero(parseInt(audioBook.currentTime / 60));
        let playedSeconds = addZero(parseInt(audioBook.currentTime % 60));
        currentTime.innerHTML = playedMinutes + ':' + playedSeconds;
        //calculates the progress bar's width percentage based on the audiobok's current time
        let size = parseInt(audioBook.currentTime * timeControlBarSize / audioBook.duration);
        progressBar.style.width = size + 'px';
    } else {
        currentTime.innerHTML = "00:00";
        playButton.innerHTML = "";
        progressBar.style.width = '0px';
        window.clearInterval(updateTime);
    }
}
function clickedTimeBar(event, audioBook, timeControlBar, progressBar, timeControlBarSize) {
    if (!audioBook.ended) {
        //gets the position of mouse relative to the element
        let mouseX = event.pageX - timeControlBar.offsetLeft;
        //calculates the time percentage based on nouse position on element
        let newTime = mouseX * audioBook.duration / timeControlBarSize;
        audioBook.currentTime = newTime;
        progressBar.style.width = mouseX + 'px';
    }
}
function clickedVolumeBar(event, audioBook, muteButton,volumeControlBar, volumeController, volumeControlBarSize){
 if(!audioBook.ended){
        let mouseX = event.pageX - volumeControlBar.offsetLeft;
        //calculates the time percentage based on nouse position on element
        //volume 1 equals to 100%
	        let newVolume = mouseX  / volumeControlBarSize;
        newVolume = updateVolumeValue(audioBook, muteButton, newVolume);
        volumeController.style.width = mouseX + 'px';
  }
}
function keyDownVolumeBar(key, audioBook, muteButton,volumeControlBar, volumeController, volumeControlBarSize){
	let flag = false;
  let newVolume;
 		if(!audioBook.ended){
    console.log('chegou')
    switch(key.keyCode){
    //right arrow and up arrow
    	case 39:
      case 38:
      //increases 1% of volume
     newVolume = audioBook.volume+.01;
      flag = true;
      break;
      //left arrow and down arrow
       case 37:
       case 40:
        newVolume = audioBook.volume-.01;
      flag = true;
    	break;
       //home key 
      case 36:
      newVolume = 0; 
      flag = true; 
      break; 
      //end key 
      case 35:
      newVolume= 1;
      flag = true; 
      break;
      default:
      return;
      }
 //prevents default behavior of the keys, like scroll up when pressed
      if (flag) {
    key.preventDefault();
    key.stopPropagation();
  }
  	newVolume = updateVolumeValue(audioBook, muteButton, newVolume);
    volumeController.style.width = parseInt((newVolume*volumeControlBarSize)) + 'px';
  }
  }
function updateVolumeValue(audioBook, muteButton, newVolume){
  if(newVolume<0){
            newVolume=0;
        }else if(newVolume>1){
        newVolume=1;
        }
        audioBook.volume = newVolume;
          if(audioBook.volume == 0){
       audioBook.muted = true;
       muteButton.innerHTML = "";
       }else{
       audioBook.muted = false;
       muteButton.innerHTML = "";}
       updateVolumeAria(volumeControlBar, audioBook.volume);
       return newVolume;
}
    //updates the aria-value-text and aria-valuenow of the volume control bar
    function updateVolumeAria(volumeControlBar, volume){
        let volumeValue= parseInt(volume*100);
        let volumeText = 'volume'+volumeValue+'por cento';
        volumeControlBar.setAttribute('aria-valuenow',volumeValue);
        volumeControlBar.setAttribute('aria-valuetext',volumeText);
    }
//adds a zero when the time is smaller than ten seconds
function addZero(digit) {
    return digit < 10 ? ('0' + digit).toString() : digit.toString();
}
</script>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="js/reverbera.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>